/* odyssey/assets/chat-popup.css */

/* Theme variables */
:root {
  --od-bg: rgba(16,18,23,0.55);
  --od-panel: rgba(255,255,255,0.03);
  --od-text: #e6eef8;
  --od-accent: #7dd3fc;
  --od-user-gradient: linear-gradient(135deg,#0ea5e9,#0369a1);
  --od-bot-bg: rgba(255,255,255,0.04);
}

/* light theme overrides */
html.od-theme-light {
  --od-bg: rgba(255,255,255,0.72);
  --od-panel: rgba(255,255,255,0.9);
  --od-text: #0b1220;
  --od-user-gradient: linear-gradient(135deg,#2563eb,#60a5fa);
  --od-bot-bg: #ffffff;
}

#ai-chat-popup {
  position: fixed;
  right: 24px;
  bottom: 24px;
  width: 420px;
  max-height: 680px;
  border-radius: 14px;
  overflow: hidden;
  color: var(--od-text);
  backdrop-filter: blur(12px) saturate(120%);
  -webkit-backdrop-filter: blur(12px) saturate(120%);
  background: linear-gradient(180deg, var(--od-bg), rgba(0,0,0,0.12));
  box-shadow: 0 10px 40px rgba(2,6,23,0.6);
  display:flex;
  flex-direction:column;
  z-index:99999;
  font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* header */
#ai-chat-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 14px;
  gap:8px;
  border-bottom: 1px solid rgba(255,255,255,0.04);
}
#ai-chat-header .title { font-weight:600; font-size:15px; }
#ai-chat-controls { display:flex; gap:8px; align-items:center; }

/* body */
#ai-chat-messages {
  padding:12px;
  overflow-y:auto;
  flex:1;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,0.02));
}

/* message bubbles */
.ai-chat-msg { margin-bottom:12px; display:flex; }
.ai-chat-msg.user { justify-content:flex-end; }
.ai-chat-msg.bot { justify-content:flex-start; }

.ai-chat-msg .bubble {
  display:inline-block;
  padding:10px 14px;
  border-radius:14px;
  max-width:78%;
  line-height:1.4;
  white-space:pre-wrap;
  word-break:break-word;
  font-size:14px;
}

/* user bubble */
.ai-chat-msg.user .bubble {
  background: var(--od-user-gradient);
  color: #fff;
  box-shadow: 0 8px 24px rgba(2,6,23,0.5);
}

/* bot bubble */
.ai-chat-msg.bot .bubble {
  background: var(--od-bot-bg);
  color: var(--od-text);
  border: 1px solid rgba(255,255,255,0.04);
}

/* input */
#ai-chat-input {
  padding:10px;
  border-top:1px solid rgba(255,255,255,0.04);
  display:flex;
  gap:8px;
  align-items:center;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,0.02));
}
#ai-chat-input textarea {
  flex:1;
  resize:none;
  height:46px;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.02);
  color: var(--od-text);
  font-size:14px;
}
#ai-chat-input button {
  padding:10px 12px;
  border-radius:10px;
  border:none;
  background: linear-gradient(135deg,#06b6d4,#0369a1);
  color:#fff;
  cursor:pointer;
  font-weight:600;
}

/* open button */
#ai-chat-open-btn {
  position: fixed;
  right: 24px;
  bottom: 720px;
  z-index: 99999;
  width:56px;
  height:56px;
  border-radius:50%;
  border:none;
  background: linear-gradient(135deg,#0ea5e9,#0369a1);
  color:white;
  font-size:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 8px 30px rgba(2,6,23,0.45);
  cursor:pointer;
}

/* settings modal (simple) */
#od-settings {
  position: absolute;
  left: 12px;
  top: 56px;
  background: var(--od-panel);
  padding:10px;
  border-radius:10px;
  box-shadow: 0 8px 30px rgba(2,6,23,0.6);
  min-width:260px;
  display:none;
  z-index:100000;
}
#od-settings label { display:block; font-size:13px; margin-top:6px; color:var(--od-text); }
#od-settings input, #od-settings select { width:100%; padding:8px; margin-top:6px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:var(--od-text); }

/* small footer controls */
#od-footer {
  display:flex; gap:8px; padding:8px; justify-content:flex-end; border-top:1px solid rgba(255,255,255,0.04);
}
#od-footer button { padding:8px 10px; border-radius:8px; border:none; cursor:pointer; }

/* responsive */
@media (max-width:520px) {
  #ai-chat-popup { right:12px; left:12px; width:auto; bottom:12px; max-height:80vh; }
  #ai-chat-open-btn { right:12px; bottom:88px; }
}
